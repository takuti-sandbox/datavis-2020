{"version":3,"file":"bundle.js","sources":["useData.js","AxisBottom.js","AxisLeft.js","Marks.js","index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { csv } from 'd3';\n\nconst csvUrl =\n  'https://gist.githubusercontent.com/curran/90240a6d88bdb1411467b21ea0769029/raw/7d4c3914cc6a29a7f5165f7d5d82b735d97bcfe4/week_temperature_sf.csv';\n\nexport const useData = () => {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    const row = (d) => {\n      d.temperature = +d.temperature;\n      d.timestamp = new Date(d.timestamp);\n      return d;\n    };\n    csv(csvUrl, row).then(setData);\n  }, []);\n\n  return data;\n};\n","export const AxisBottom = ({\n  xScale,\n  innerHeight,\n  tickFormat,\n  tickOffset = 3,\n}) =>\n  xScale.ticks().map((tickValue) => (\n    <g\n      className=\"tick\"\n      key={tickValue}\n      transform={`translate(${xScale(tickValue)},0)`}\n    >\n      <line y2={innerHeight} />\n      <text\n        style={{ textAnchor: 'middle' }}\n        dy=\".71em\"\n        y={innerHeight + tickOffset}\n      >\n        {tickFormat(tickValue)}\n      </text>\n    </g>\n  ));\n","export const AxisLeft = ({\n  yScale,\n  innerWidth,\n  tickOffset = 3,\n}) =>\n  yScale.ticks().map((tickValue) => (\n    <g\n      className=\"tick\"\n      transform={`translate(0,${yScale(tickValue)})`}\n    >\n      <line x2={innerWidth} />\n      <text\n        key={tickValue}\n        style={{ textAnchor: 'end' }}\n        x={-tickOffset}\n        y={yScale(tickValue)}\n        dy=\".32em\"\n      >\n        {tickValue}\n      </text>\n    </g>\n  ));\n","import { line, curveNatural } from 'd3';\n\nexport const Marks = ({\n  data,\n  xScale,\n  yScale,\n  xValue,\n  yValue,\n  circleRadius,\n}) => (\n  <g className=\"marks\">\n    <path\n      d={line()\n        .x((d) => xScale(xValue(d)))\n        .y((d) => yScale(yValue(d)))\n        .curve(curveNatural)(data)}\n    />\n    {data.map((d) => (\n      <circle\n        cx={xScale(xValue(d))}\n        cy={yScale(yValue(d))}\n        r={circleRadius}\n      />\n    ))}\n  </g>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  timeFormat,\n  scaleLinear,\n  scaleTime,\n  extent,\n} from 'd3';\nimport { useData } from './useData';\nimport { AxisBottom } from './AxisBottom';\nimport { AxisLeft } from './AxisLeft';\nimport { Marks } from './Marks';\n\nconst width = 960;\nconst height = 500;\nconst margin = {\n  top: 20,\n  right: 30,\n  bottom: 80,\n  left: 100,\n};\nconst xAxisOffset = 60;\nconst yAxisOffset = 50;\n\nconst tickOffset = 16;\n\nconst App = () => {\n  const data = useData();\n\n  if (!data) {\n    return <pre>Loading....</pre>;\n  }\n\n  const innerHeight = height - margin.top - margin.bottom;\n  const innerWidth = width - margin.right - margin.left;\n\n  const xValue = (d) => d.timestamp;\n  const xAxisLabel = 'Time';\n\n  const yValue = (d) => d.temperature;\n  const yAxisLabel = 'Temperature';\n\n  const xScale = scaleTime()\n    .domain(extent(data, xValue))\n    .range([0, innerWidth])\n    .nice();\n\n  const yScale = scaleLinear()\n    .domain(extent(data, yValue))\n    .range([innerHeight, 0])\n    .nice();\n\n  const xAxisTickFormat = timeFormat('%a');\n\n  return (\n    <svg width={width} height={height}>\n      <g\n        transform={`translate(${margin.left},${margin.top})`}\n      >\n        <AxisBottom\n          xScale={xScale}\n          innerHeight={innerHeight}\n          tickFormat={xAxisTickFormat}\n          tickOffset={tickOffset}\n        />\n        <text\n          className=\"axis-label\"\n          x={innerWidth / 2}\n          y={innerHeight + xAxisOffset}\n          textAnchor=\"middle\"\n        >\n          {xAxisLabel}\n        </text>\n        <AxisLeft\n          yScale={yScale}\n          innerWidth={innerWidth}\n          tickOffset={tickOffset}\n        />\n        <text\n          className=\"axis-label\"\n          textAnchor=\"middle\"\n          transform={`translate(${-yAxisOffset},${\n            innerHeight / 2\n          }) rotate(-90)`}\n        >\n          {yAxisLabel}\n        </text>\n        <Marks\n          data={data}\n          xScale={xScale}\n          yScale={yScale}\n          xValue={xValue}\n          yValue={yValue}\n          circleRadius={3}\n        />\n      </g>\n    </svg>\n  );\n};\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\n"],"names":["const","useState","useEffect","csv","line","curveNatural","React","scaleTime","extent","scaleLinear","timeFormat","ReactDOM"],"mappings":"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"}